[platformio]
default_envs = esp32dev
description = ESP32物联网控制系统

[env:esp32dev]
platform = espressif32
board = esp32dev
framework = arduino

; 串口配置
monitor_speed = 115200
upload_speed = 921600

; 编译配置
build_flags = 
    -DCORE_DEBUG_LEVEL=3
    -DCONFIG_ARDUHAL_LOG_COLORS=1

; 依赖库
lib_deps = 
    bblanchon/ArduinoJson @ ^6.21.3
    knolleary/PubSubClient @ ^2.8

; 分区表
board_build.partitions = default.csv

; 调试配置
debug_tool = esp-prog
debug_init_break = tbreak setup

; 上传配置
upload_protocol = esptool
upload_flags = 
    --before=default_reset
    --after=hard_reset

; 监控配置
monitor_filters = esp32_exception_decoder, time, colorize
